<html>
<head>
<title> GDSC login </title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="shortcut icon" type="image/png" href="../App Home/assets/logo/logo_transparent.png">

   <!-- Bootstrap -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet">
   <!-- Font Awesome Library -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/> 

   <!-- Custom CSS -->
   <link rel="stylesheet" href="../App Home/style.css">
<style>
button.x{position:relative;
        left:15%;
        top: 70%;
        border:1px solid black;
        border-radius: 15px;
        padding:10px;
        width:70%;}
button.signin{position:relative;
              left:6%;
              border:1px solid black;
              border-radius:15px;
              padding:12px;
              width:90%;}
button.nxt{position:relative;
           left: 35%;
           border-radius:15px;
           padding:8px;
           width:25%;}
button.nxt1{position:relative;
           left: 20%;
           border-radius:15px;
           padding:8px;
           width:25%;}
button.prev{position:relative;
           left: 28%;
           border-radius:15px;
           padding:8px;
           width:25%;}
#a{position:absolute;
      top:30%;
      border:1px solid black;
      border-radius: 15px;
      padding:5px;
      transition: 0.1s;
      }
.b h2{
   margin: 5px auto;
   text-align: center;
}
div.c{text-align: center;
       font-size: 150%;}
div.d{position:relative;
      left:20%;
      font-size: 120%;}
#b{position:absolute;
   top:20%;
   left:60%;
   border:1px solid black;
   border-radius: 15px;
   padding:10px;
   visibility:hidden;
   transition: .5s;
      }
#c{position:absolute;
   top:20%;
   left:60%;
   border:1px solid black;
   border-radius: 15px;
   padding:10px;
   visibility:hidden;
   transition: .5s;
      }
#d{position:absolute;
   top:20%;
   left:60%;
   border:1px solid black;
   border-radius: 15px;
   padding:10px;
   visibility:hidden;
   transition: .5s;
      }
.d{-webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;	
   width:100%;
   font-size:180%;}
.e{-webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;	
    width:100%;
    font-size:130%;}

@media only screen and (max-width:1500px){
   button.x{width:90%;
            left:6%;}}
@media only screen and (max-width:650px){
   .d, .e{font-size:100%;}} 

   #main_content{
      display: flex;
      justify-content: center;
   }
   footer{
      top: 90%;
      position: absolute;
   }
</style>
</head>
<body>
   <header class="bg-dark" data-bs-theme="dark">
      <span id="brand_name">
         <h1>मेरा स्थानीय</h1>
      </span>
      <img src="../App Home/assets/logo/logo.png"  class="img-thumbnail" id="logo" alt="Logo">
      <span id="brand_name">
        <h1>My Local</h1>
      </span>
   </header>
   <nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed" data-bs-theme="dark">
      <div class="container-fluid">
         <a class="navbar-brand d-flex align-items-center justify-content-center flex-column" href="#">
            <span><i class="bi bi-person-fill"></i></span>
            <span>Login</span>
         </a>
         <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
            <span class="navbar-toggler-icon"></span>
         </button>
         <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
            <div class="offcanvas-header">
               <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Login</h5>
               <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
               <ul class="navbar-nav justify-content-around flex-grow-1 pe-3">
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="../index.html" role="button">
                        <span><i class="bi bi-house-door-fill"></i></span> 
                        <span>Home</span> 
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="deals.html" role="button">
                        <span><i class="bi bi-bag-fill"></i></i></span>
                        <span>Deals</span>
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="profile.html" role="button">
                        <span><i class="bi bi-people-fill"></i></span> 
                        <span>People</span> 
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="hiring.html" role="button">
                        <span><i class="bi bi-person-badge-fill"></i></span>
                        <span>Hiring</span>
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="page.html" role="button">
                        <span><i class="bi bi-person-circle"></i></span>
                        <span>Profile</span>
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link d-flex align-items-center justify-content-center flex-column" href="sarthak signup.html" role="button">
                        <span><i class="bi bi-person-plus-fill"></i></span>
                        <span>Sign Up</span>
                     </a>
                  </li>
               </ul>
            </div>
         </div>        
      </div>
   </nav>
   <section class="container-fluid" id="main_content">
<div id="a">
 <div class="b">
  <h2 style="font-size:135%;">Sign In</h2>
 </div>
 <input class="d" type="text" id="user" placeholder="Username" required>
 <br>
 <br>
 <input class="d" type="password" id="pwd" placeholder="Password" required>
 <br><br>
 <button onclick="log()" class="signin">Sign In</button>
 <br>
 <br>
 <div class="c">
  or
 </div>
 <br>

 <button onclick="left()" class="x">Continue with Google </button>
 <hr>

 <p style="font-size:100%"> Don't have an account? <a href=""> Sign Up Now </a> </p>
</div>
<div id="b">
 <h3 style="font-size:120%">Please take few minutes to Complete your profile </h3>
 <div style="font-size:100%"> Choose your preferred language </div>
 <select class="e" id="language">
   <option value=" ">   </option>
   <option value="eng">English</option>
   <option value="tam">Tamil </option>
   <option value="mal">Malayalam</option>
   <option value="hin">Hindi</option>
 </select>
 <br>
 <br>
 <button onclick="nxtpg()" class="nxt">Next</button>
</div>
<div id="c">
 <h3 style="font-size:120%">Please select your field(s) of proficiency</h3>
 <div class="d">
  <input type="checkbox" id="prof" value="Plumber">Plumber
  <input type="checkbox" id="prof" value="Electrician">Electrician
  <br><br>
  <input type="checkbox" id="prof" value="Mason">Mason
  &nbsp&nbsp&nbsp<input type="checkbox" id="prof" value="Carpenter">Carpenter
  <br><br>
  <input type="checkbox" id="prof" value="Cleaner">Cleaner
  &nbsp<input type="checkbox" id="prof" value="Painter">Painter
 </div>
 Others, please specify<input class="e" type="text" id="others">
 <br><br>
 <button onclick="area()" class="nxt1">Next</button>
 <button onclick="pre()" class="prev">Back</button>
</div>
<div id="d">
 <h3>Please select your preferred area to work(cities)</h3>
 <select class="e" id="country">
   <option value=" " disabled selected>Country</option>
   <option value="India">India</option>
   <option value="South Africa">Africa</option>
   <option value="Syria">Syria</option>
 </select>
 <br><br>
 <select class="e" id="state">
   <option value=" " disabled selected>State</option>
 </select>
 <br><br>
 <select class="e" id="neighbourhood">
   <option value=" " disabled selected>Neighbourhood</option>
 </select>
 <br><br>
 <button onclick="setup()" class="nxt1">Next</button>
 <button onclick="prearea()" class="prev">Back</button>
</div>
</section>

<footer  id="footer" class="bg-dark row row-cols-1 row-cols-sm-2 row-cols-md-5 py-5 border-top d-flex justify-content-center" data-bs-theme="dark">
   <div class="container container-fluid row align-items-center">
      <div id="footer_icons" class="row align-items-center col-12">
         <div class="col-3"><a href="#" target="blank"><i class="fa-brands fa-twitter"></i></a></div>
         <div class="col-3"><a href="#" target="blank"><i class="fa-brands fa-facebook"></i></a></div>
         <div class="col-3"><a href="#" target="blank"><i class="fa-brands fa-linkedin"></i></a></div>
         <div class="col-3"><a href="#"><i class="fa-brands fa-youtube"></i></a></div>
      </div>
      <div class="col-12 mb-12">
         <h5>Quick Links</h5>
         <ul class="nav flex-column" id="footer_links">
            <li class="nav-item mb-2"><a href="../index.html" class="nav-link p-0 text-muted">Home</a></li>
            <li class="nav-item mb-2"><a href="page.html" class="nav-link p-0 text-muted">People</a></li>
            <li class="nav-item mb-2"><a href="hiring.html" class="nav-link p-0 text-muted">Hiring</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Contact Us</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Site Map</a></li>
         </ul>
      </div>
   </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

<script>
function left(){
document.getElementById("a").style.left="20%"
hide()}
function hide(){
document.getElementById("a").style.visibility="hidden"
document.getElementById("b").style.visibility="visible"
document.getElementById("b").style.left="36%"
}
function nxtpg(){
document.getElementById("b").style.transition=".1s"
document.getElementById("b").style.left="18%"
document.getElementById("b").style.visibility="hidden"
document.getElementById("c").style.visibility="visible"
document.getElementById("c").style.left="36%"
}
function area(){
document.getElementById("c").style.transition=".1s"
document.getElementById("c").style.left="18%"
document.getElementById("c").style.visibility="hidden"
document.getElementById("d").style.visibility="visible"
document.getElementById("d").style.left="36%"
}
function pre(){
document.getElementById("c").style.transition=".1s"
document.getElementById("c").style.left="60%"
document.getElementById("c").style.visibility="hidden"
document.getElementById("b").style.visibility="visible"
document.getElementById("b").style.left="36%"
}
function setup(){
document.getElementById("d").style.transition=".1s"
document.getElementById("d").style.left="18%"
document.getElementById("d").style.visibility="hidden"
}
function prearea(){
document.getElementById("d").style.transition=".1s"
document.getElementById("d").style.left="60%"
document.getElementById("d").style.visibility="hidden"
document.getElementById("c").style.visibility="visible"
document.getElementById("c").style.left="36%"
}
</script>

<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
<script>
 const firebaseConfig = {
    apiKey: "AIzaSyB627a-ThWusMYiaPooK8R57UDkD2OdAp4",
    authDomain: "gsolution-240c6.firebaseapp.com",
    databaseURL: "https://gsolution-240c6-default-rtdb.firebaseio.com",
    projectId: "gsolution-240c6",
    storageBucket: "gsolution-240c6.appspot.com",
    messagingSenderId: "734513557996",
    appId: "1:734513557996:web:fe84d9214593159b1950c9"
  };
firebase.initializeApp(firebaseConfig);
countnum=0
countx=0;
var dataa=[]
datacount=1
function log(){
function retrieved(){
/*f=document.getElementById("nam").innerText*/
var ref = firebase.database().ref('/credential/credential'+datacount);
datacount+=1
ref.on("value", function(snapshot) {
   console.log(snapshot.val().username);
   uname=snapshot.val().username
   pwd=snapshot.val().password
   fname=snapshot.val().firstname
   login()
}, function (error) {
   console.log("Error: " + error.code);
});
}


/*f=document.getElementById("nam").innerText*/
var ref = firebase.database().ref('/credential/');
ref.on('child_added', function(snapshot) {
   countnum++;
  // how do I know if this is the last child? i.e. the count is complete?
});

ref.on('value', function(snapshot) {
countx+=countnum
counter()
});
function counter(){
for(; datacount<=countx;){
retrieved()}}
}
function login(){
  cont=1
     if(document.getElementById("user").value==uname && document.getElementById("pwd").value==pwd){
        if(worktype==undefined){
           left()}
         else{window.open('index.html','_self')}
         localStorage.removeItem("login");
         loginc=[]
         c=loginc.push([uname,fname]) 
         reg=[uname,fname]
         data=JSON.parse(localStorage.getItem('login')) || []
         data.push(reg)
         localStorage.setItem('login', JSON.stringify(data));
         datacount+=1
   }
   else if(datacount==(countx+1)){
     data=JSON.parse(localStorage.getItem('login')) || []
     if(data.length==0){
     alert("Incorrect Username or Password")
     countx=0
     datacount=1
     countnum=0}
  }
  /*if(datacount>=countx){
     countx=0
     datacount=1
     countnum=0}*/
}
</script>

</body>
</html>



